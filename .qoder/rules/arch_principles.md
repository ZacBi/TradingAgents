---
trigger: always_on
alwaysApply: true
---

# Architecture Design Principles

## 1. 核心设计原则

### 1.1 拥抱开源，拒绝盲目造轮子

- **开源优先**：在提出架构方案时，必须优先调研成熟的开源项目。
- **自研准入门槛**：严禁无意义的自研。仅在开源方案无法满足核心性能（QPS/Latency）、安全合规或极致定制化需求时，方可建议自研。
- **选型逻辑**：优先推荐社区活跃、文档齐全、与 Python 生态契合度高的组件。

### 1.2 深度沟通，设计先行

- **需求对齐**：在编写实现逻辑前，必须明确业务边界、性能指标（QPS/TPS）及数据一致性要求。
- **逻辑解耦**：优先进行模块划分和接口定义。在设计未达成共识前，不应生成具体业务逻辑代码。

## 2. 协作冲突处理

- 若用户需求与现有技术栈冲突，应主动询问并提示潜在风险，而非直接覆盖配置。

## 3. 注重整体

- 架构设计中，尽量减少细节的代码实现

## 4. 项目定位

- **开源魔改项目**：本项目基于开源 TradingAgents 进行深度定制，不需要考虑是否影响原有用户。
- **无需向后兼容**：可直接进行破坏性修改，无需保留废弃标记、迁移路径或保守默认值。
- **配置激进化**：新功能可直接默认开启，不必为"现有用户"设守旧默认。
